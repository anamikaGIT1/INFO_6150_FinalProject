{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Satish\\\\Desktop\\\\web_design\\\\E-Shop\\\\Final Project\\\\INFO6150-20821-Web-Design-User-Experience_final_project\\\\final_project\\\\client\\\\src\\\\components\\\\admin\\\\ProductReviews.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { MDBDataTable } from 'mdbreact';\nimport MetaData from '../layout/MetaData';\nimport Sidebar from './Sidebar';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductReviews, deleteReview, clearErrors } from '../../actions/productActions';\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants';\nimport { ImBin } from \"react-icons/im\"; //productreview\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductReviews = () => {\n  _s();\n\n  const [productId, setProductId] = useState('');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const {\n    error,\n    reviews\n  } = useSelector(state => state.productReviews);\n  const {\n    isDeleted,\n    error: deleteError\n  } = useSelector(state => state.review);\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (deleteError) {\n      alert.errror(deleteError);\n      dispatch(clearErrors());\n    }\n\n    if (productId !== '') {\n      dispatch(getProductReviews(productId));\n    }\n\n    if (isDeleted) {\n      alert.success('Review has been removed.');\n      dispatch({\n        type: DELETE_REVIEW_RESET\n      });\n    }\n  }, [dispatch, alert, error, deleteError, isDeleted, productId]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(getProductReviews(productId));\n  };\n\n  const deleteReviewHandler = id => {\n    dispatch(deleteReview(id, productId));\n  };\n\n  const setReviews = () => {\n    const data = {\n      columns: [{\n        label: 'Review ID',\n        field: 'id',\n        sort: 'asc'\n      }, {\n        label: 'Rating',\n        field: 'rating',\n        sort: 'asc'\n      }, {\n        label: 'Comment',\n        field: 'comment',\n        sort: 'asc'\n      }, {\n        label: 'User',\n        field: 'user',\n        sort: 'asc'\n      }, {\n        label: 'Actions',\n        field: 'actions'\n      }],\n      rows: []\n    };\n    reviews.forEach(review => {\n      data.rows.push({\n        id: review._id,\n        rating: review.rating,\n        comment: review.comment,\n        user: review.name,\n        actions: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: () => deleteReviewHandler(review._id),\n          children: /*#__PURE__*/_jsxDEV(ImBin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      });\n    });\n    return data;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'Product Reviews'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: submitHandler,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"productId_field\",\n                    children: \"Enter Product ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"email_field\",\n                    className: \"form-control\",\n                    value: productId,\n                    onChange: e => setProductId(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  id: \"search_button\",\n                  type: \"submit\",\n                  className: \"btn btn-primary btn-block py-2\",\n                  children: \"SEARCH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 11\n          }, this), reviews && reviews.length > 0 ? /*#__PURE__*/_jsxDEV(MDBDataTable, {\n            data: setReviews(),\n            className: \"px-3\",\n            bordered: true,\n            striped: true,\n            hover: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-5 text-center lead\",\n            children: \"No Reviews. Yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductReviews, \"Se9Yk37cAoV97w29xd0+E1X75sA=\", false, function () {\n  return [useAlert, useDispatch, useSelector, useSelector];\n});\n\n_c = ProductReviews;\nexport default ProductReviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductReviews\");","map":{"version":3,"sources":["C:/Users/Satish/Desktop/web_design/E-Shop/Final Project/INFO6150-20821-Web-Design-User-Experience_final_project/final_project/client/src/components/admin/ProductReviews.js"],"names":["React","useEffect","useState","MDBDataTable","MetaData","Sidebar","useAlert","useDispatch","useSelector","getProductReviews","deleteReview","clearErrors","DELETE_REVIEW_RESET","ImBin","ProductReviews","productId","setProductId","alert","dispatch","error","reviews","state","productReviews","isDeleted","deleteError","review","errror","success","type","submitHandler","e","preventDefault","deleteReviewHandler","id","setReviews","data","columns","label","field","sort","rows","forEach","push","_id","rating","comment","user","name","actions","target","value","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { MDBDataTable } from 'mdbreact'\n\nimport MetaData from '../layout/MetaData'\nimport Sidebar from './Sidebar'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { getProductReviews, deleteReview, clearErrors} from '../../actions/productActions'\n\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants'\n\nimport { ImBin } from \"react-icons/im\"\n\n//productreview\nconst ProductReviews = () => {\n\n  const [productId, setProductId] = useState('');\n\n  const alert = useAlert();\n  const dispatch = useDispatch();\n\n  const { error, reviews } = useSelector( state => state.productReviews);\n\n  const {isDeleted, error: deleteError } = useSelector(state => state.review)\n\n  useEffect(() => {\n   \n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (deleteError) {\n      alert.errror(deleteError);\n      dispatch(clearErrors());\n    }\n\n    if (productId !== '') {\n       dispatch(getProductReviews(productId));\n    }\n\n    if (isDeleted) {\n      alert.success('Review has been removed.');\n      dispatch({ type: DELETE_REVIEW_RESET });\n    }\n\n  }, [dispatch, alert, error, deleteError, isDeleted, productId]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(getProductReviews(productId));\n  }\n\n  const deleteReviewHandler = (id) => {\n    dispatch(deleteReview(id, productId));\n  }\n\n   const setReviews= () => {\n    const data = {\n      columns: [\n        {\n          label: 'Review ID',\n          field: 'id',\n          sort: 'asc'\n        },\n        {\n          label: 'Rating',\n          field: 'rating',\n          sort: 'asc'\n        },\n        {\n          label: 'Comment',\n          field: 'comment',\n          sort: 'asc'\n        },\n        {\n          label: 'User',\n          field: 'user',\n          sort: 'asc'\n        },\n        {\n          label: 'Actions',\n          field: 'actions',\n        },\n      ],\n      rows: []\n    }\n\n    reviews.forEach(review => {\n      data.rows.push({\n        id: review._id,\n        rating: review.rating,\n        comment: review.comment,\n        user: review.name,\n        actions:\n          <button className=\"btn btn-danger\" onClick={() => deleteReviewHandler(review._id)}>\n            <ImBin />\n          </button>\n      })\n    })\n\n    return data;\n  }\n\n  return (\n    <>\n       <MetaData title={'Product Reviews'} />\n      <div className=\"row\">\n        <div className=\"col-12 col-md-2\">\n          <Sidebar />\n        </div>\n\n        <div className=\"col-12 col-md-10\">\n          <>\n          <div className=\"row justify-content-center mt-5\">\n            <div className=\"col-5\">\n              <form onSubmit={submitHandler}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"productId_field\">Enter Product ID</label>\n                    <input\n                      type=\"text\"\n                      id=\"email_field\"\n                      className=\"form-control\"\n                      value={productId}\n                      onChange={(e) => setProductId(e.target.value)}\n                    />\n                </div>\n\n                <button\n                  id=\"search_button\"\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-block py-2\"\n                >\n                  SEARCH\n                </button>\n              </ form>\n            </div>  \n          </div>\n\n          {reviews && reviews.length > 0 ? (\n            <MDBDataTable \n              data={setReviews()}\n              className=\"px-3\"\n              bordered\n              striped\n              hover\n            />\n          ) : (\n          <p className=\"mt-5 text-center lead\">\n            No Reviews. Yet.\n          </p>\n          )}\n          </>\n        </div>\n      </div> \n    </>\n  )\n}\n\nexport default ProductReviews\n"]},"metadata":{},"sourceType":"module"}