(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,c){},132:function(e,t,c){},163:function(e,t,c){"use strict";c.r(t);var r=c(5),a=c(3),s=c(21),n=c.n(s),i=c(10),l=(c(103),c(9)),o=c.n(l),d=c(14),j=c(8),u=c(20),b=c(7),m=c(13),p=c(36),O=c(53),h=c(79),x=c(16),f=c.n(x),v="LOGIN_REQUEST",g="LOGIN_SUCCESS",y="LOGIN_FAIL",N="REGISTER_REQUEST",w="REGISTER_SUCCESS",S="REGISTER_FAIL",E="LOAD_USER_REQUEST",_="LOAD_USER_SUCCESS",C="LOAD_USER_FAIL",R="UPDATE_PROFILE_REQUEST",D="UPDATE_PROFILE_SUCCESS",P="UPDATE_PROFILE_RESET",A="UPDATE_PROFILE_FAIL",I="UPDATE_PASSWORD_REQUEST",k="UPDATE_PASSWORD_SUCCESS",T="UPDATE_PASSWORD_RESET",F="UPDATE_PASSWORD_FAIL",U="FORGOT_PASSWORD_REQUEST",L="FORGOT_PASSWORD_SUCCESS",M="FORGOT_PASSWORD_FAIL",W="RESET_PASSWORD_REQUEST",q="RESET_PASSWORD_SUCCESS",Q="RESET_PASSWORD_FAIL",V="ALL_USERS_REQUEST",G="ALL_USERS_SUCCESS",$="ALL_USERS_FAIL",H="USER_DETAILS_REQUEST",B="USER_DETAILS_SUCCESS",J="USER_DETAILS_FAIL",z="UPDATE_USER_REQUEST",Y="UPDATE_USER_SUCCESS",K="UPDATE_USER_RESET",X="UPDATE_USER_FAIL",Z="DELETE_USER_REQUEST",ee="DELETE_USER_SUCCESS",te="DELETE_USER_RESET",ce="DELETE_USER_FAIL",re="LOGOUT_SUCCESS",ae="LOGOUT_FAIL",se="CLEAR_ERRORS",ne=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:E}),e.next=4,f.a.get("/api/v1/me");case 4:c=e.sent,r=c.data,t({type:_,payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:C,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),e.next=4,f.a.get("/api/v1/admin/users");case 4:c=e.sent,r=c.data,t({type:G,payload:r.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:$,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},le=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:se});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=c(2),de=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],n=r[1];return Object(oe.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/search/".concat(s)):t.push("/")},children:Object(oe.jsxs)("div",{className:"input-group",children:[Object(oe.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return n(e.target.value)}}),Object(oe.jsx)("div",{className:"input-group-append",children:Object(oe.jsx)("button",{id:"search_btn",className:"btn",children:Object(oe.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},je=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.auth})),r=c.user,a=c.loading,s=Object(b.c)((function(e){return e.cart})).cartItems;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("nav",{className:"navbar navbar-fixed-top",children:[Object(oe.jsx)("div",{className:"col-12 col-md-3",children:Object(oe.jsx)("div",{className:"navbar-brand",children:Object(oe.jsx)(i.b,{to:"/",children:Object(oe.jsx)("img",{src:"/images/logo-new.png",className:"logo-nav",alt:"logo"})})})}),Object(oe.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(oe.jsx)(u.b,{render:function(e){var t=e.history;return Object(oe.jsx)(de,{history:t})}})}),Object(oe.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[r?Object(oe.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(oe.jsxs)(i.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(oe.jsx)("figure",{className:"avatar avatar-nav",children:Object(oe.jsx)("img",{src:r.avatar&&r.avatar.url,alt:r&&r.name,className:"rounded-circle"})}),Object(oe.jsx)("span",{children:r&&r.name})]}),Object(oe.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[r&&"admin"===r.role&&Object(oe.jsxs)(i.b,{to:"/dashboard",className:"dropdown-item d-flex align-items-center",children:[Object(oe.jsx)(O.a,{className:"mr-1"})," Dashboard"]}),Object(oe.jsxs)(i.b,{to:"/orders/me",className:"dropdown-item d-flex align-items-center",children:[Object(oe.jsx)(O.b,{className:"mr-1"})," Orders"]}),Object(oe.jsxs)(i.b,{to:"/me",className:"dropdown-item d-flex align-items-center",children:[Object(oe.jsx)(p.d,{className:"mr-1"})," Profile"]}),Object(oe.jsxs)(i.b,{to:"/",className:"dropdown-item text-danger d-flex align-items-center",onClick:function(){t(function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/logout");case 3:t({type:re}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:ae,payload:e.t0.response.data.errorMessage});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out succesfully.")},children:[Object(oe.jsx)(h.a,{className:"mr-1"})," Logout"]})]})]}):!a&&Object(oe.jsx)(i.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"}),Object(oe.jsxs)(i.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(oe.jsx)("span",{id:"cart",className:"ml-3",children:Object(oe.jsx)(p.b,{})}),Object(oe.jsx)("span",{className:"ml-1",id:"cart_count",children:s.length})]})]})]})})},ue=(c(132),function(){return Object(oe.jsxs)("footer",{class:"main-footer bg-dark",children:[Object(oe.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap",rel:"stylesheet"}),Object(oe.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap",rel:"stylesheet"}),Object(oe.jsx)("script",{src:"https://kit.fontawesome.com/95817e6879.js",crossorigin:"anonymous"}),Object(oe.jsxs)("div",{class:"footer-top pt-130",children:[Object(oe.jsx)("div",{class:"vector-bg",style:Object(r.a)({},{backgroundImage:"url(https://res.cloudinary.com/djqty7gls/image/upload/v1670449775/shape-11_yjib92.png)"})}),Object(oe.jsx)("div",{class:"auto-container",children:Object(oe.jsxs)("div",{class:"row clearfix",children:[Object(oe.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-12 footer-column",children:Object(oe.jsxs)("div",{class:"footer-widget logo-widget",children:[Object(oe.jsx)("figure",{class:"footer-logo",children:Object(oe.jsx)("img",{src:"https://res.cloudinary.com/djqty7gls/image/upload/v1670449285/logo-new_lco1yc.png",alt:"",style:Object(r.a)({},{width:"40px"})})}),Object(oe.jsx)("div",{class:"text",children:Object(oe.jsx)("p",{children:"Lorem ipsum dolor amet consetetur adi pisicing elit sed eiusm tempor in cididunt ut labore dolore magna aliqua enim."})}),Object(oe.jsxs)("ul",{class:"social-links clearfix",children:[Object(oe.jsx)("li",{children:Object(oe.jsx)("i",{class:"fa fa-facebook-f"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)("i",{class:"fa fa-twitter"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)("i",{class:"fa fa-instagram"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)("i",{class:"fa fa-google-plus-g"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)("i",{class:"fa fa-linkedin-in"})})]})]})}),Object(oe.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-12 footer-column",children:Object(oe.jsxs)("div",{class:"footer-widget links-widget",children:[Object(oe.jsx)("div",{class:"widget-title",children:Object(oe.jsx)("h3",{children:"Services"})}),Object(oe.jsx)("div",{class:"widget-content",children:Object(oe.jsxs)("ul",{class:"links-list clearfix",children:[Object(oe.jsx)("li",{children:"About Us"}),Object(oe.jsx)("li",{children:"Listing"}),Object(oe.jsx)("li",{children:"How It Works"}),Object(oe.jsx)("li",{children:"Our Services"}),Object(oe.jsx)("li",{children:"Our Blog"}),Object(oe.jsx)("li",{children:"Contact Us"})]})})]})}),Object(oe.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-12 footer-column",children:Object(oe.jsxs)("div",{class:"footer-widget contact-widget",children:[Object(oe.jsx)("div",{class:"widget-title",children:Object(oe.jsx)("h3",{children:"Contacts"})}),Object(oe.jsx)("div",{class:"widget-content",children:Object(oe.jsxs)("ul",{class:"info-list clearfix",children:[Object(oe.jsxs)("li",{children:[Object(oe.jsx)("i",{class:"fa fa-map-marker-alt"}),"Flat 20, Reynolds Neck, North Helenaville, FV77 8WS"]}),Object(oe.jsxs)("li",{children:[Object(oe.jsx)("i",{class:"fa fa-microphone"}),Object(oe.jsx)("a",{href:"tel:23055873407",children:"+2(305) 587-3407"})]}),Object(oe.jsxs)("li",{children:[Object(oe.jsx)("i",{class:"fa fa-envelope"}),Object(oe.jsx)("a",{href:"mailto:info@example.com",children:"info@example.com"})]})]})})]})})]})})]}),Object(oe.jsx)("div",{class:"footer-bottom",children:Object(oe.jsx)("div",{class:"auto-container",children:Object(oe.jsxs)("div",{class:"bottom-inner clearfix",children:[Object(oe.jsx)("div",{class:"copyright pull-left",children:Object(oe.jsxs)("p",{children:[Object(oe.jsx)("a",{href:"index.html",children:"Go Shop"})," \xa9 2022 All Right Reserved"]})}),Object(oe.jsxs)("ul",{class:"footer-nav pull-right",children:[Object(oe.jsx)("li",{children:Object(oe.jsx)("a",{href:"index.html",children:"Terms of Service"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)("a",{href:"index.html",children:"Privacy Policy"})})]})]})})})]})}),be=c(80),me=c.n(be),pe=c(56),Oe=(c(137),function(){return Object(oe.jsx)("div",{className:"loader-wrapper",children:Object(oe.jsx)("div",{className:"loader"})})}),he=c(83),xe=function(e){var t=e.title;return Object(oe.jsx)(he.a,{children:Object(oe.jsx)("title",{children:"".concat(t," | E-Store")})})},fe=function(e){var t=e.col,c=e.product,r=c._id,a=c.name,s=c.images,n=c.numOfReviews,l=c.price,o=c.ratings;return Object(oe.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(t," my-3"),children:Object(oe.jsxs)("div",{className:"card p-3 rounded",children:[Object(oe.jsx)("img",{className:"card-img-top mx-auto",src:s[0].url,alt:a}),Object(oe.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(oe.jsx)("h5",{className:"card-title",children:Object(oe.jsx)(i.b,{to:"/product/".concat(r),children:a})}),Object(oe.jsxs)("div",{className:"ratings mt-auto",children:[Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(o/5*100,"%")}})}),Object(oe.jsx)("span",{id:"no_of_reviews",children:n})]}),Object(oe.jsxs)("p",{className:"card-text",children:["$",l]}),Object(oe.jsx)(i.b,{to:"/product/".concat(r),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},ve="ALL_PRODUCTS_REQUEST",ge="ALL_PRODUCTS_SUCCESS",ye="ALL_PRODUCTS_FAIL",Ne="NEW_PRODUCT_REQUEST",we="NEW_PRODUCT_SUCCESS",Se="NEW_PRODUCT_RESET",Ee="NEW_PRODUCT_FAIL",_e="DELETE_PRODUCT_REQUEST",Ce="DELETE_PRODUCT_SUCCESS",Re="DELETE_PRODUCT_RESET",De="DELETE_PRODUCT_FAIL",Pe="UPDATE_PRODUCT_REQUEST",Ae="UPDATE_PRODUCT_SUCCESS",Ie="UPDATE_PRODUCT_RESET",ke="UPDATE_PRODUCT_FAIL",Te="ADMIN_PRODUCTS_REQUEST",Fe="ADMIN_PRODUCTS_SUCCESS",Ue="ADMIN_PRODUCTS_FAIL",Le="PRODUCT_DETAILS_REQUEST",Me="PRODUCT_DETAILS_SUCCESS",We="PRODUCT_DETAILS_FAIL",qe="NEW_REVIEW_REQUEST",Qe="NEW_REVIEW_SUCCESS",Ve="NEW_REVIEW_RESET",Ge="NEW_REVIEW_FAIL",$e="GET_REVIEWS_REQUEST",He="GET_REVIEWS_SUCCESS",Be="GET_REVIEWS_FAIL",Je="DELETE_REVIEW_REQUEST",ze="DELETE_REVIEW_SUCCESS",Ye="DELETE_REVIEW_RESET",Ke="DELETE_REVIEW_FAIL",Xe="CLEAR_ERRORS",Ze=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Le}),t.next=4,f.a.get("/api/v1/product/".concat(e));case 4:r=t.sent,a=r.data,c({type:Me,payload:a.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:We,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},et=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Te}),e.next=4,f.a.get("/api/v1/admin/products");case 4:c=e.sent,r=c.data,t({type:Fe,payload:r.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ue,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},tt=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:$e}),t.next=4,f.a.get("/api/v1/reviews?id=".concat(e));case 4:r=t.sent,a=r.data,c({type:He,payload:a.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Be,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ct=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Xe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rt=(0,pe.a.createSliderWithTooltip)(pe.a.Range),at=function(e){var t=e.match,c=Object(a.useState)(1),r=Object(j.a)(c,2),s=r[0],n=r[1],i=Object(a.useState)([1,1e3]),l=Object(j.a)(i,2),u=l[0],p=l[1],O=Object(a.useState)(""),h=Object(j.a)(O,2),x=h[0],v=h[1],g=Object(a.useState)(0),y=Object(j.a)(g,2),N=y[0],w=y[1],S=Object(m.d)(),E=Object(b.b)(),_=Object(b.c)((function(e){return e.products})),C=_.loading,R=_.products,D=_.error,P=_.resPerPage,A=_.productsCount,I=_.filteredProductsCount,k=t.params.keyword;Object(a.useEffect)((function(){if(D)return S.error(D);E(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(d.a)(o.a.mark((function s(n){var i,l,d;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:ve}),i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(a),r&&(i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(r,"&ratings[gte]=").concat(a)),s.next=6,f.a.get(i);case 6:l=s.sent,d=l.data,n({type:ge,payload:d}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:ye,payload:s.t0.response.data.errorMessage});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(k,s,u,x,N))}),[E,S,D,k,s,u,x,N]);var T=A;return k&&(T=I),Object(oe.jsx)(oe.Fragment,{children:C?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Smartest place for online shopping"}),Object(oe.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(oe.jsx)("section",{id:"products",className:"container mt-5",children:Object(oe.jsx)("div",{className:"row",children:k?Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(oe.jsxs)("div",{className:"px5",children:[Object(oe.jsx)(rt,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return p(e)}}),Object(oe.jsx)("hr",{className:"my-5"}),Object(oe.jsxs)("div",{className:"mt-5",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(oe.jsx)("ul",{className:"pl-0",children:["Electronics","Cameras","Laptops","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home","Accessories"].map((function(e){return Object(oe.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return v(e)},children:e})}))})]}),Object(oe.jsx)("hr",{className:"my-3"}),Object(oe.jsxs)("div",{className:"mt-5",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(oe.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(oe.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return w(e)},children:Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(oe.jsx)("div",{className:"col-6 col-md-9",children:Object(oe.jsx)("div",{className:"row",children:R&&R.map((function(e){return Object(oe.jsx)(fe,{product:e,col:4},e._id)}))})})]}):R&&R.map((function(e){return Object(oe.jsx)(fe,{product:e,col:3},e._id)}))})}),P<=T&&Object(oe.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(oe.jsx)(me.a,{activePage:s,itemsCountPerPage:P,totalItemsCount:A,onChange:function(e){n(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},st=c(170),nt=function(e){var t=e.reviews;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{class:"reviews w-75",children:[Object(oe.jsx)("h3",{children:"Other's Reviews:"}),Object(oe.jsx)("hr",{}),t&&t.map((function(e){return Object(oe.jsxs)("div",{class:"review-card my-3",children:[Object(oe.jsx)("div",{class:"rating-outer",children:Object(oe.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(oe.jsxs)("p",{class:"review_user",children:["Wrote ",e.name]}),Object(oe.jsx)("p",{class:"review_comment",children:e.comment}),Object(oe.jsx)("hr",{})]},e._id)}))]})})},it="ADD_TO_CART",lt="REMOVE_FROM_CART",ot="SAVE_SHIPPING_INFO",dt=function(e,t){return function(){var c=Object(d.a)(o.a.mark((function c(r,a){var s,n,i,l,d,j,u;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,f.a.get("/api/v1/product/".concat(e));case 2:s=c.sent,n=s.data.product,i=n._id,l=n.name,d=n.price,j=n.images,u=n.stock,r({type:it,payload:{product:i,name:l,price:d,image:j[0].url,stock:u,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 11:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},jt=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:lt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},ut=function(e){var t=e.match,c=Object(a.useState)(1),r=Object(j.a)(c,2),s=r[0],n=r[1],l=Object(a.useState)(0),u=Object(j.a)(l,2),p=u[0],O=u[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),v=x[0],g=x[1],y=Object(m.d)(),N=Object(b.b)(),w=Object(b.c)((function(e){return e.productDetails})),S=w.loading,E=w.error,_=w.product,C=_._id,R=_.name,D=_.images,P=_.title,A=_.ratings,I=_.numOfReviews,k=_.price,T=_.description,F=_.seller,U=_.stock,L=_.reviews,M=Object(b.c)((function(e){return e.auth})).user,W=Object(b.c)((function(e){return e.newReview})),q=W.error,Q=W.success;Object(a.useEffect)((function(){N(Ze(t.params.id)),E&&(y.error(E),N(ct)),q&&(y.error(q),N(ct)),Q&&(y.success("Thanks for the opinion."),N({type:Ve}))}),[N,y,E,t.params.id,q,Q]);return Object(oe.jsx)(oe.Fragment,{children:S?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:R}),Object(oe.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(oe.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(oe.jsx)(st.a,{pause:"hover",children:D&&D.map((function(e){return Object(oe.jsx)(st.a.Item,{children:Object(oe.jsx)("img",{className:"d-block w-100",src:e.url,alt:P})},e.public_id)}))})}),Object(oe.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(oe.jsx)("h3",{children:R}),Object(oe.jsxs)("p",{id:"product_id",children:["Product # ",C]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(A/5*100,"%")}})}),Object(oe.jsx)("span",{id:"no_of_reviews",children:I}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{id:"product_price",children:["$ ",k]}),Object(oe.jsxs)("div",{className:"stockCounter d-inline",children:[Object(oe.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;n(t)}},children:"-"}),Object(oe.jsx)("input",{type:"number",className:"form-control count d-inline",value:s,readOnly:!0}),Object(oe.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=U)){var t=e.valueAsNumber+1;n(t)}},children:"+"})]}),Object(oe.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===U,onClick:function(){N(dt(t.params.id,s)),y.success("Item Added to Cart")},children:"Add to Cart"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Status:",Object(oe.jsx)("span",{id:"stock_status",className:U>0?"greenColor":"redColor",children:U>0?"In Stock":"Out ofStock"})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(oe.jsx)("p",{children:T}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(oe.jsx)("strong",{children:F})]}),M?Object(oe.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,r){"click"===t.type&&(r<c.starValue?(e.classList.add("orange"),O(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(r<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(oe.jsxs)("div",{className:"alert alert-danger mt-5",children:[Object(oe.jsxs)("p",{class:"muted",children:["Only logged in users can post reviews. ",Object(oe.jsx)(i.b,{to:"/login",children:"Login Here"})]}),Object(oe.jsxs)("p",{class:"muted",children:["Don't have an account ? ",Object(oe.jsx)(i.b,{to:"/register",children:"Register Here"})]})]}),Object(oe.jsx)("div",{className:"row mt-2 mb-5",children:Object(oe.jsx)("div",{className:"rating w-50",children:Object(oe.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(oe.jsx)("div",{className:"modal-dialog",role:"document",children:Object(oe.jsxs)("div",{className:"modal-content",children:[Object(oe.jsxs)("div",{className:"modal-header",children:[Object(oe.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(oe.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(oe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(oe.jsxs)("div",{className:"modal-body",children:[Object(oe.jsxs)("ul",{className:"stars",children:[Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})})]}),Object(oe.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:v,onChange:function(e){return g(e.target.value)}}),Object(oe.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e,c=new FormData;c.set("rating",p),c.set("comment",v),c.set("productId",t.params.id),N((e=c,function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:qe}),r={headers:{"Content-Type":"application/json"}},t.next=5,f.a.put("/api/v1/review",e,r);case 5:a=t.sent,s=a.data,c({type:Qe,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Ge,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Submit"})]})]})})})})})]})]}),L&&L.length>0&&Object(oe.jsx)(nt,{reviews:L})]})})},bt=function(e){var t=e.history,c=Object(b.b)(),r=Object(b.c)((function(e){return e.cart})).cartItems;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"My cart"}),0===r.length?Object(oe.jsx)("h2",{className:"mt-5",children:"My cart is empty"}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("h2",{className:"mt-5",children:["My Cart:",Object(oe.jsxs)("b",{children:[r.length," items"]})]}),Object(oe.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(oe.jsx)("div",{className:"col-12 col-lg-8",children:r.map((function(e){return Object(oe.jsxs)(a.Fragment,{children:[Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-3",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"90",width:"115"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-3",children:Object(oe.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{id:"card_item_price",children:["$ ",e.price]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(oe.jsxs)("div",{className:"stockCounter d-inline",children:[Object(oe.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var r=t-1;r<=0||c(dt(e,r))}(e.product,e.quantity)},children:"-"}),Object(oe.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(oe.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,r){var a=t+1;a>r||c(dt(e,a))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(oe.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return t=e.product,void c(jt(t));var t}})})]})})]},e.product)}))}),Object(oe.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(oe.jsxs)("div",{id:"order_summary",children:[Object(oe.jsx)("h4",{children:"Order Summary"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Subtotal:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:[r.reduce((function(e,t){return e+Number(t.quantity)}),0),"(Units)"]})]}),Object(oe.jsxs)("p",{children:["Est. total: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:[" $ ",r.reduce((function(e,t){return e+Number(t.quantity*t.price)}),0).toFixed(2)]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},mt=c(89),pt=function(e){var t=e.shipping,c=e.confirmOrder,r=e.payment;return Object(oe.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(oe.jsxs)(i.b,{to:"/shipping",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Shipping Info"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Shipping Info"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(oe.jsxs)(i.b,{to:"/order/confirm",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]}),r?Object(oe.jsxs)(i.b,{to:"/payment",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Payment Details"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(i.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Payment Details"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]})]})},Ot=function(e){var t=e.history,c=Object.values(mt.countries),r=Object(b.c)((function(e){return e.cart})).shippingInfo,s=Object(a.useState)(r.address),n=Object(j.a)(s,2),i=n[0],l=n[1],u=Object(a.useState)(r.city),m=Object(j.a)(u,2),p=m[0],O=m[1],h=Object(a.useState)(r.postalCode),x=Object(j.a)(h,2),f=x[0],v=x[1],g=Object(a.useState)(r.phoneNo),y=Object(j.a)(g,2),N=y[0],w=y[1],S=Object(a.useState)(r.country),E=Object(j.a)(S,2),_=E[0],C=E[1],R=Object(b.b)();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Shipping Info"}),Object(oe.jsx)(pt,{shipping:!0}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),R((c={address:i,city:p,phoneNo:N,postalCode:f,country:_},function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ot,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/orders/confirm")},children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(oe.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:i,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(oe.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(oe.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:N,onChange:function(e){return w(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(oe.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:f,onChange:function(e){return v(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(oe.jsx)("select",{id:"country_field",className:"form-control",value:_,onChange:function(e){return C(e.target.value)},required:!0,children:c.map((function(e){return Object(oe.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(oe.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},ht=function(e){var t=e.history,c=Object(b.c)((function(e){return e.cart})),r=c.cartItems,s=c.shippingInfo,n=s.phoneNo,l=s.address,o=s.city,d=s.postalCode,j=s.country,u=Object(b.c)((function(e){return e.auth})).user,m=r.reduce((function(e,t){return e+t.price*t.quantity}),0),p=m>200?0:25,O=Number((.05*m).toFixed(2)),h=(m+p+O).toFixed(2);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Confirm Order"}),Object(oe.jsx)(pt,{shipping:!0,confirmOrder:!0}),Object(oe.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(oe.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",u&&u.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",n]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"}),"".concat(l,", ").concat(o,"\n            ").concat(d,", ").concat(j)]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"mt-4",children:"My Cart Items:"}),r.map((function(e){return Object(oe.jsxs)(a.Fragment,{children:[Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-6",children:Object(oe.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:[e.quantity," x ",e.price," = ",Object(oe.jsxs)("b",{children:[e.quantity*e.price," $"]})]})})]})}),Object(oe.jsx)("hr",{})]},e.product)}))]}),Object(oe.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(oe.jsxs)("div",{id:"order_summary",children:[Object(oe.jsx)("h4",{children:"Order Summary"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Subtotal:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",m]})]}),Object(oe.jsxs)("p",{children:["Shipping: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",p]})]}),Object(oe.jsxs)("p",{children:["Tax:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",O]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Total: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",h]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:m.toFixed(2),shippingPrice:p,taxPrice:O,totalPrice:h};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},xt="CREATE_ORDER_REQUEST",ft="CREATE_ORDER_SUCCESS",vt="CREATE_ORDER_FAIL",gt="MY_ORDERS_REQUEST",yt="MY_ORDERS_SUCCESS",Nt="MY_ORDERS_FAIL",wt="ALL_ORDERS_REQUEST",St="ALL_ORDERS_SUCCESS",Et="ALL_ORDERS_FAIL",_t="UPDATE_ORDER_REQUEST",Ct="UPDATE_ORDER_SUCCESS",Rt="UPDATE_ORDER_RESET",Dt="UPDATE_ORDER_FAIL",Pt="DELETE_ORDER_REQUEST",At="DELETE_ORDER_SUCCESS",It="DELETE_ORDER_RESET",kt="DELETE_ORDER_FAIL",Tt="ORDER_DETAILS_REQUEST",Ft="ORDER_DETAILS_SUCCESS",Ut="ORDER_DETAILS_FAIL",Lt="CLEAR_ERRORS",Mt=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c,r){var a,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:xt}),a={headers:{"Content-Type":"application/json"}},t.next=5,f.a.post("/api/v1/order/new",e,a);case 5:s=t.sent,n=s.data,c({type:ft,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:vt,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},Wt=function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Tt}),t.next=4,f.a.get("/api/v1/order/".concat(e));case 4:r=t.sent,a=r.data,c({type:Ft,payload:a.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ut,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},qt=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:wt}),e.next=4,f.a.get("/api/v1/admin/orders");case 4:c=e.sent,r=c.data,t({type:St,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Et,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Qt=function(){return function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Lt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Vt=c(30),Gt={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},$t=function(e){var t=e.history;console.log("Here");var c=Object(m.d)(),r=Object(Vt.useStripe)(),s=Object(Vt.useElements)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.auth})).user,l=Object(b.c)((function(e){return e.cart})),j=l.cartItems,u=l.shippingInfo,p=Object(b.c)((function(e){return e.newOrder})).error;Object(a.useEffect)((function(){p&&(c.error(p),n(Qt()))}),[n,c,p]);var O={orderItems:j,shippingInfo:u},h=JSON.parse(sessionStorage.getItem("orderInfo"));h&&(O.itemsPrice=h.itemsPrice,O.shippingPrice=h.shippingPrice,O.taxPrice=h.taxPrice,O.totalPrice=h.totalPrice);var x={amount:Math.round(100*h.totalPrice)},v=function(){var e=Object(d.a)(o.a.mark((function e(a){var l,d,j,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,d={headers:{"Content-Type":"application/json"}},e.next=6,f.a.post("/api/v1/payment/process",x,d);case 6:if(l=e.sent,j=l.data.client_secret,r&&s){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,r.confirmCardPayment(j,{payment_method:{card:s.getElement(Vt.CardNumberElement),billing_details:{name:i.name,email:i.email}}});case 12:(u=e.sent).error?(c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===u.paymentIntent.status?(O.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n(Mt(O)),t.push("/success")):c.error("There is some issue while processing payment."),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.errorMessage);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Payment Details"}),Object(oe.jsx)(pt,{shipping:!0,confirmOrder:!0,payment:!0}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:v,children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(oe.jsx)(Vt.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Gt}),Object(oe.jsx)("p",{className:"text-muted font-weight-light",children:"* Test card number: 4000 0027 6000 3184 "})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(oe.jsx)(Vt.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Gt}),Object(oe.jsx)("p",{className:"text-muted font-weight-light",children:"* 4 digits"})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(oe.jsx)(Vt.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Gt}),Object(oe.jsx)("p",{className:"text-muted font-weight-light",children:"* 3 digits"})]}),Object(oe.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay ","- ".concat(h&&h.totalPrice)]})]})})})]})},Ht=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.cart})).cartItems;return Object(a.useEffect)((function(){t.forEach((function(t){e(jt(t.product))}))}),[e,t]),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Order Success"}),Object(oe.jsx)("div",{className:"row justify-content-center",children:Object(oe.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(oe.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(oe.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(oe.jsx)(i.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},Bt=c(29),Jt=c(26),zt=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.myOrders})),r=c.loading,s=c.error,n=c.orders;Object(a.useEffect)((function(){t(function(){var e=Object(d.a)(o.a.mark((function e(t,c){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:gt}),e.next=4,f.a.get("/api/v1/orders/me");case 4:r=e.sent,a=r.data,t({type:yt,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Nt,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,c){return e.apply(this,arguments)}}()),s&&(e.error(s),t(Qt()))}),[t,e,s]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"My Orders"}),Object(oe.jsx)("h1",{className:"my-5",children:"My Orders"}),r?Object(oe.jsx)(Oe,{}):Object(oe.jsx)(Bt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(oe.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(oe.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(oe.jsxs)(i.b,{to:"/order/".concat(t._id),className:"btn btn-primary d-inline-flex align-items-center",children:[Object(oe.jsx)(Jt.b,{className:"mr-1"})," View Details"]})})})),e}(),className:"px-3",bordered:!0,striped:!0,noBottomColumns:!0,sortable:!0,hover:!0})]})},Yt=function(e){var t=e.match,c=Object(m.d)(),r=Object(b.b)(),s=Object(b.c)((function(e){return e.orderDetails})),n=s.loading,l=s.error,o=s.order,d=void 0===o?{}:o,j=d._id,u=d.shippingInfo,p=d.orderItems,O=d.paymentInfo,h=d.user,x=d.totalPrice,f=d.orderStatus;Object(a.useEffect)((function(){r(Wt(t.params.id)),l&&(c.error(l),r(Qt()))}),[r,c,l,t.params.id]);var v=u&&"".concat(u.address,", ").concat(u.city,", ").concat(u.postalCode,", ").concat(u.country),g=!(!O||"succeeded"!==O.status);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Order Details"}),n?Object(oe.jsx)(Oe,{}):Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{className:"row d-flex justify-content-between",children:Object(oe.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(oe.jsxs)("h1",{className:"my-5 p-3 blue",children:["Order # ",j]}),Object(oe.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",h&&h.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",u&&u.phoneNo]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"}),v]}),Object(oe.jsxs)("p",{className:"lead",children:[Object(oe.jsx)("b",{children:"Amount:"})," $",x]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"my-4",children:"Payment"}),Object(oe.jsx)("p",{className:g?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:g?"PAID":"NOT PAID"})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(oe.jsx)("p",{className:f&&String(f).includes("Delivered")?"greenColor":"redColor",children:Object(oe.jsxs)("b",{children:[" ",f]})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:p&&p.map((function(e){return Object(oe.jsxs)("div",{className:"row my-5 d-flex align-items-center",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2 p-3 center",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-5 center p-3",children:Object(oe.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0 p-3 center",children:Object(oe.jsx)("span",{className:"lead",children:e.price})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0 py-3 blue center",children:Object(oe.jsx)("span",{className:"inherit",children:e.quantity>1?"".concat(e.quantity," Pieces"):"1 Piece"})})]},e.product)}))}),Object(oe.jsx)("hr",{})]})})})]})},Kt=function(e){var t=e.history,c=e.location,r=Object(a.useState)(""),s=Object(j.a)(r,2),n=s[0],l=s[1],u=Object(a.useState)(""),p=Object(j.a)(u,2),O=p[0],h=p[1],x=Object(m.d)(),N=Object(b.b)(),w=Object(b.c)((function(e){return e.auth})),S=w.isAuth,E=w.error,_=w.loading,C=c.search?c.search.split("=")[1]:"/";Object(a.useEffect)((function(){S&&t.push(C),E&&(x.error(E),N(le()))}),[N,x,S,E,t,C]);return Object(oe.jsx)(oe.Fragment,{children:_?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Login user"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var c=Object(d.a)(o.a.mark((function c(r){var a,s,n;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:v}),a={headers:{"Content-Type":"application/json"}},c.next=5,f.a.post("/api/v1/login",{email:e,password:t},a);case 5:s=c.sent,n=s.data,r({type:g,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),r({type:y,payload:c.t0.response.data.errorMessage});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,O))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Login"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return l(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(oe.jsx)(i.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(oe.jsx)(i.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},Xt=c(12),Zt=function(e){var t=e.history,c=Object(a.useState)({name:"",email:"",password:""}),s=Object(j.a)(c,2),n=s[0],i=s[1],l=n.name,u=n.email,p=n.password,O=Object(a.useState)("/images/default_avatar.jpg"),h=Object(j.a)(O,2),x=h[0],v=h[1],g=Object(a.useState)("/images/default_avatar.jpg"),y=Object(j.a)(g,2),E=y[0],_=y[1],C=Object(m.d)(),R=Object(b.b)(),D=Object(b.c)((function(e){return e.auth})),P=D.isAuth,A=D.error,I=D.loading;Object(a.useEffect)((function(){P&&t.push("/"),A&&(C.error(A),R(le()))}),[R,C,P,A,t]);var k=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(_(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}else i(Object(r.a)(Object(r.a)({},n),{},Object(Xt.a)({},e.target.name,e.target.value)))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Register User"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",l),c.set("email",u),c.set("password",p),c.set("avatar",x),R((t=c,function(){var e=Object(d.a)(o.a.mark((function e(c){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:N}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.post("/api/v1/register",t,r);case 5:a=e.sent,s=a.data,c({type:w,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:S,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Register"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:l,onChange:k})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:k})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:p,onChange:k})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(oe.jsxs)("div",{className:"d-flex align-items-center",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(oe.jsx)("img",{src:E,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:k}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(oe.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!I,children:"REGISTER"})]})})})]})},ec=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.loading,c=e.user,r=c.avatar,a=c.name,s=c.email,n=c.createdAt,l=c.role;return Object(oe.jsx)(oe.Fragment,{children:t?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"My Profile"}),Object(oe.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(oe.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(oe.jsxs)("div",{className:"col-12 col-md-3",children:[Object(oe.jsx)("figure",{className:"avatar avatar-profile",children:Object(oe.jsx)("img",{className:"rounded-circle img-fluid",src:r.url,alt:a})}),Object(oe.jsx)(i.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(oe.jsxs)("div",{className:"col-12 col-md-5",children:[Object(oe.jsx)("h4",{children:"Full Name"}),Object(oe.jsx)("p",{children:a}),Object(oe.jsx)("h4",{children:"Email Address"}),Object(oe.jsx)("p",{children:s}),Object(oe.jsx)("h4",{children:"Joined On"}),Object(oe.jsx)("p",{children:String(n).substring(0,10)}),"admin"!==l&&Object(oe.jsx)(i.b,{to:"/orders/me",className:"btn btn-danger   btn-block mt-5",children:"My Orders"}),Object(oe.jsx)(i.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},tc=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],n=r[1],i=Object(a.useState)(""),l=Object(j.a)(i,2),u=l[0],p=l[1],O=Object(a.useState)(""),h=Object(j.a)(O,2),x=h[0],v=h[1],g=Object(a.useState)("/images/default_avatar.jpg"),y=Object(j.a)(g,2),N=y[0],w=y[1],S=Object(m.d)(),E=Object(b.b)(),_=Object(b.c)((function(e){return e.auth})).user,C=Object(b.c)((function(e){return e.user})),I=C.error,k=C.isUpdated,T=C.loading;Object(a.useEffect)((function(){_&&(n(_.name),p(_.email),w(_.avatar.url)),I&&(S.error(I),E(le())),k&&(S.success("User Updated Successfully"),E(ne()),t.push("/me"),E({type:P}))}),[E,S,I,t,k,_]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Update Profile"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("email",u),c.set("avatar",x),E((t=c,function(){var e=Object(d.a)(o.a.mark((function e(c){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:R}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.put("/api/v1/me/update",t,r);case 5:a=e.sent,s=a.data,c({type:D,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:A,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(oe.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(oe.jsxs)("div",{className:"d-flex align-items-center",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(oe.jsx)("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(w(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(oe.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!T,children:"Update"})]})})})]})},cc=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],n=r[1],i=Object(a.useState)(""),l=Object(j.a)(i,2),u=l[0],p=l[1],O=Object(m.d)(),h=Object(b.b)(),x=Object(b.c)((function(e){return e.user})),v=x.error,g=x.isUpdated,y=x.loading;Object(a.useEffect)((function(){v&&(O.error(v),h(le())),g&&(O.success("Password updated successfully"),t.push("/me"),h({type:T}))}),[h,O,v,t,g]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Update Password"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",s),c.set("password",u),h((t=c,function(){var e=Object(d.a)(o.a.mark((function e(c){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:I}),r={headers:{"Content-Type":"application/json"}},e.next=5,f.a.put("/api/v1/password/update",t,r);case 5:a=e.sent,s=a.data,c({type:k,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:F,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Update Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Old Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"confirm_password_field",children:"New Password"}),Object(oe.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsx)("button",{type:"submit",className:"btn btn-block py-3",disabled:!!y,children:"Update Password"})]})})})]})},rc=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(m.d)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.forgotPassword})),l=i.error,u=i.loading,p=i.message;Object(a.useEffect)((function(){l&&(s.error(l),n(le())),p&&s.success(p)}),[n,p,s,l]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Send code to email"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),t.set("host",window.location.host),n(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:U}),r={headers:{"Content-Type":"application/json"}},t.next=5,f.a.post("/api/v1/password/forgot",e,r);case 5:a=t.sent,s=a.data,c({type:L,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:M,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(oe.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!u,children:"Send Email"})]})})})]})},ac=function(e){var t=e.history,c=e.match,r=Object(a.useState)(""),s=Object(j.a)(r,2),n=s[0],i=s[1],l=Object(a.useState)(""),u=Object(j.a)(l,2),p=u[0],O=u[1],h=Object(m.d)(),x=Object(b.b)(),v=Object(b.c)((function(e){return e.forgotPassword})),g=v.error,y=v.success;Object(a.useEffect)((function(){g&&(h.error(g),x(le())),y&&(h.success("Password reset successfully"),t.push("/login"))}),[x,h,g,t,y]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Reset Password"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,a=new FormData;a.set("password",n),a.set("confirmPassword",p),x((t=c.params.token,r=a,function(){var e=Object(d.a)(o.a.mark((function e(c){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:W}),a={headers:{"Content-Type":"application/json"}},e.next=5,f.a.put("/api/v1/password/reset/".concat(t),r,a);case 5:s=e.sent,n=s.data,c({type:q,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Q,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(oe.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},sc=c(94),nc=function(){return Object(oe.jsx)("div",{className:"sidebar-wrapper",children:Object(oe.jsx)("nav",{id:"sidebar",children:Object(oe.jsxs)("ul",{className:"list-unstyled components",children:[Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/dashboard",children:[Object(oe.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(oe.jsxs)("li",{children:[Object(oe.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(oe.jsx)(p.a,{className:"mr-2"}),"Products"]}),Object(oe.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/admin/products",children:[Object(oe.jsx)(p.c,{className:"mr-1"}),"All"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/admin/product",children:[Object(oe.jsx)("i",{className:"fa fa-plus"}),"Create"]})})]})]}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/admin/orders",children:[Object(oe.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/admin/users",children:[Object(oe.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(i.b,{to:"/admin/reviews",children:[Object(oe.jsx)(sc.a,{className:"mr-1"})," Reviews"]})})]})})})},ic=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.products})),c=t.loading,r=t.products,s=Object(b.c)((function(e){return e.allOrders})),n=s.orders,l=s.totalAmount,o=Object(b.c)((function(e){return e.allUsers})).users,d=0;return r.forEach((function(e){0===e.stock&&(d+=1)})),Object(a.useEffect)((function(){e(et()),e(qt()),e(ie())}),[e]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsxs)("div",{className:"col-12 col-md-10",children:[Object(oe.jsx)("h1",{className:"my-4",children:"Dashboard"}),c?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Admin Dashboard"}),Object(oe.jsx)("div",{className:"row pr-4",children:Object(oe.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(oe.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(oe.jsx)("br",{})," ",Object(oe.jsxs)("b",{children:["$",l&&l.toFixed(2)]})]})})})})}),Object(oe.jsxs)("div",{className:"row pr-4",children:[Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(oe.jsx)("br",{}),Object(oe.jsx)("b",{children:n&&n.length})]})}),Object(oe.jsxs)(i.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(oe.jsx)("br",{}),Object(oe.jsx)("b",{children:o&&o.length})]})}),Object(oe.jsxs)(i.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-warning o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(oe.jsx)("br",{}),Object(oe.jsx)("b",{children:r&&r.length})]})}),Object(oe.jsxs)(i.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsx)("div",{className:"card text-white bg-danger o-hidden h-100",children:Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Out   of  Stock",Object(oe.jsx)("br",{}),Object(oe.jsx)("b",{children:d})]})})})})]})]})]})]})})},lc=function(e){var t=e.history,c=Object(m.d)(),r=Object(b.b)(),s=Object(b.c)((function(e){return e.products})),n=s.loading,l=s.error,j=s.products,u=Object(b.c)((function(e){return e.product})),p=u.error,O=u.isDeleted;Object(a.useEffect)((function(){r(et()),l&&(c.error(l),r(ct())),p&&(c.error(p),r(ct())),O&&(c.success("Product has been removed."),t.push("/admin/products"),r({type:Re}))}),[r,c,l,p,O,t]);var h=function(e){r(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:_e}),t.next=4,f.a.delete("/api/v1/admin/product/".concat(e));case 4:r=t.sent,a=r.data,c({type:Ce,payload:a.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:De,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"All Products"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All products"}),n?Object(oe.jsx)(Oe,{}):Object(oe.jsx)(Bt.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return j.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock,actions:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(i.b,{to:"/admin/product/".concat(t._id),className:"btn text-white mr-1 bg-warning",children:Object(oe.jsx)(Jt.c,{})}),Object(oe.jsx)("button",{className:"btn btn-danger",onClick:function(){return h(t._id)},children:Object(oe.jsx)(Jt.a,{})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},oc=c(23),dc=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],n=r[1],i=Object(a.useState)(0),l=Object(j.a)(i,2),u=l[0],p=l[1],O=Object(a.useState)(""),h=Object(j.a)(O,2),x=h[0],v=h[1],g=Object(a.useState)("Electronics"),y=Object(j.a)(g,2),N=y[0],w=y[1],S=Object(a.useState)(0),E=Object(j.a)(S,2),_=E[0],C=E[1],R=Object(a.useState)(""),D=Object(j.a)(R,2),P=D[0],A=D[1],I=Object(a.useState)([]),k=Object(j.a)(I,2),T=k[0],F=k[1],U=Object(a.useState)([]),L=Object(j.a)(U,2),M=L[0],W=L[1],q=Object(m.d)(),Q=Object(b.b)(),V=Object(b.c)((function(e){return e.newProduct})),G=V.loading,$=V.error,H=V.success;Object(a.useEffect)((function(){$&&(q.error($),Q(ct())),H&&(t.push("/admin/products"),q.success("Product has been added to collection."),Q({type:Se}))}),[Q,q,$,H,t]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"New Product"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)("div",{className:"wrapper my-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("price",u),c.set("description",x),c.set("category",N),c.set("stock",_),c.set("seller",P),T.forEach((function(e){c.append("images",e)})),Q((t=c,function(){var e=Object(d.a)(o.a.mark((function e(c){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ne}),r={headers:{"Content-Type":"application/json"}},e.next=5,f.a.post("/api/v1/admin/product/new",t,r);case 5:a=e.sent,s=a.data,c({type:we,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ee,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(oe.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(oe.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(oe.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(oe.jsx)("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return w(e.target.value)},children:["Electronics","Cameras","Laptops","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home","Accessories"].map((function(e){return Object(oe.jsx)("option",{value:e,children:e},e)}))})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(oe.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:_,onChange:function(e){return C(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(oe.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return A(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{children:"Images"}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);W([]),F([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(W((function(e){return[].concat(Object(oc.a)(e),[t.result])})),F((function(e){return[].concat(Object(oc.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),M.map((function(e){return Object(oe.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!G,children:"ADD"})]})})})]})]})},jc=function(e){var t=e.match,c=e.history,r=Object(a.useState)(""),s=Object(j.a)(r,2),n=s[0],i=s[1],l=Object(a.useState)(0),u=Object(j.a)(l,2),p=u[0],O=u[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),v=x[0],g=x[1],y=Object(a.useState)(""),N=Object(j.a)(y,2),w=N[0],S=N[1],E=Object(a.useState)(0),_=Object(j.a)(E,2),C=_[0],R=_[1],D=Object(a.useState)(""),P=Object(j.a)(D,2),A=P[0],I=P[1],k=Object(a.useState)([]),T=Object(j.a)(k,2),F=T[0],U=T[1],L=Object(a.useState)([]),M=Object(j.a)(L,2),W=M[0],q=M[1],Q=Object(a.useState)([]),V=Object(j.a)(Q,2),G=V[0],$=V[1],H=Object(m.d)(),B=Object(b.b)(),J=Object(b.c)((function(e){return e.productDetails})),z=J.error,Y=J.product,K=Object(b.c)((function(e){return e.product})),X=K.loading,Z=K.error,ee=K.isUpdated,te=t.params.id;Object(a.useEffect)((function(){Y&&Y._id!==te?B(Ze(te)):(i(Y.name),O(Y.price),g(Y.description),S(Y.category),R(Y.stock),I(Y.seller),q(Y.images)),z&&(H.error(z),B(ct())),Z&&(H.error(Z),B(ct())),ee&&(H.success("Product has been updated."),c.push("/admin/products"),B({type:Ie}))}),[B,H,z,Z,ee,c,Y,te]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Update Product"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)("div",{className:"wrapper my-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,r=new FormData;r.set("name",n),r.set("price",p),r.set("description",v),r.set("category",w),r.set("stock",C),r.set("seller",A),F.forEach((function(e){r.append("images",e)})),B((t=Y._id,c=r,function(){var e=Object(d.a)(o.a.mark((function e(r){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Pe}),a={headers:{"Content-Type":"application/json"}},e.next=5,f.a.put("/api/v1/admin/product/".concat(t),c,a);case 5:s=e.sent,n=s.data,r({type:Ae,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:ke,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(oe.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(oe.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(oe.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(oe.jsx)("select",{className:"form-control",id:"category_field",value:w,onChange:function(e){return S(e.target.value)},children:["Electronics","Cameras","Laptops","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home","Accessories"].map((function(e){return Object(oe.jsx)("option",{value:e,children:e},e)}))})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(oe.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(oe.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:A,onChange:function(e){return I(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{children:"Images"}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);$([]),U([]),q([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&($((function(e){return[].concat(Object(oc.a)(e),[t.result])})),U((function(e){return[].concat(Object(oc.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),W&&W.map((function(e){return Object(oe.jsx)("img",{src:e.url,alt:e,className:"mt-3 mr-2"},e.url)})),G.map((function(e){return Object(oe.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!X,children:"UPDATE"})]})})})]})]})},uc=function(e){var t=e.history,c=Object(m.d)(),r=Object(b.b)(),s=Object(b.c)((function(e){return e.allOrders})),n=s.loading,l=s.error,j=s.orders,u=Object(b.c)((function(e){return e.order})).isDeleted;Object(a.useEffect)((function(){r(qt()),l&&(c.error(l),r(Qt())),u&&(c.success("Order has been removed."),t.push("/admin/orders"),r({type:It}))}),[r,c,l,t,u]);var p=function(e){r(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Pt}),t.next=4,f.a.delete("/api/v1/admin/order/".concat(e));case 4:r=t.sent,a=r.data,c({type:At,payload:a.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:kt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"All Orders"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All orders"}),n?Object(oe.jsx)(Oe,{}):Object(oe.jsx)(Bt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return void 0!==j&&j.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(oe.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(oe.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(i.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary mr-1",children:Object(oe.jsx)(Jt.b,{})}),Object(oe.jsx)("button",{className:"btn btn-danger",onClick:function(){return p(t._id)},children:Object(oe.jsx)(Jt.a,{})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,noBottomColumns:!0,sortable:!0,hover:!0})]})})]})]})},bc=function(e){var t=e.match,c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],n=r[1],l=Object(m.d)(),u=Object(b.b)(),p=Object(b.c)((function(e){return e.orderDetails})),O=p.loading,h=p.order,x=void 0===h?{}:h,v=x.shippingInfo,g=x.orderItems,y=x.paymentInfo,N=x.user,w=x.totalPrice,S=x.orderStatus,E=Object(b.c)((function(e){return e.order})),_=E.error,C=E.isUpdated,R=t.params.id;Object(a.useEffect)((function(){u(Wt(R)),_&&(l.error(_),u(Qt())),C&&(l.success("Order has been successfully updated."),u({type:Rt}))}),[u,l,_,C,R]);var D=function(e){var t=new FormData;t.set("status",s),u(function(e,t){return function(){var c=Object(d.a)(o.a.mark((function c(r){var a,s,n;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:_t}),a={headers:{"Content-Type":"application/json"}},c.next=5,f.a.put("/api/v1/admin/order/".concat(e),t,a);case 5:s=c.sent,n=s.data,r({type:Ct,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),r({type:Dt,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,t))},P=v&&"".concat(v.address,", ").concat(v.city,", ").concat(v.postalCode,", ").concat(v.country),A=!(!y||"succeeded"!==y.status);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Process Order # ".concat(x&&x._id)}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)(oe.Fragment,{children:O?Object(oe.jsx)(Oe,{}):Object(oe.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(oe.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(oe.jsxs)("h2",{className:"my-5",children:["Order # ",x&&x._id]}),Object(oe.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",N&&N.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",v&&v.phoneNo]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"}),P]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Amount:"})," $",w]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"my-4",children:"Payment"}),Object(oe.jsx)("p",{className:A?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:A?"PAID":"NOT PAID"})}),Object(oe.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(oe.jsx)("p",{children:Object(oe.jsx)("b",{children:y&&y.id})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(oe.jsx)("p",{className:x.orderStatus&&String(x.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:S})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:g&&g.map((function(e){return Object(oe.jsxs)("div",{className:"row my-5",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-5",children:Object(oe.jsx)(i.b,{to:"/products/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:["$",e.price]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(oe.jsx)("hr",{})]}),Object(oe.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(oe.jsx)("h4",{className:"my-4",children:"Status"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsxs)("select",{className:"form-control",name:"status",value:s,onChange:function(e){return n(e.target.value)},children:[Object(oe.jsx)("option",{value:"Processing",children:"Processing"}),Object(oe.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(oe.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(oe.jsx)("option",{value:"Delivered",children:"Delivered"})]}),Object(oe.jsx)("p",{className:"text-muted text-weight-light",children:"* Processing is default option."})]}),Object(oe.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return D(x._id)},disabled:"Delivered"===x.orderStatus,children:"Update Status"})]})]})})})]})]})},mc=function(e){var t=e.history,c=Object(m.d)(),r=Object(b.b)(),s=Object(b.c)((function(e){return e.allUsers})),n=s.loading,l=s.error,j=s.users,u=Object(b.c)((function(e){return e.user})).isDeleted;Object(a.useEffect)((function(){r(ie()),l&&(c.error(l),r(le())),u&&(c.success("User has been removed."),t.push("/admin/users"),r({type:te}))}),[r,c,l,t,u]);var p=function(e){r(function(e){return function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Z}),t.next=4,f.a.delete("/api/v1/admin/user/".concat(e));case 4:r=t.sent,a=r.data,c({type:ee,payload:a.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ce,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"All Users"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All users"}),n?Object(oe.jsx)(Oe,{}):Object(oe.jsx)(Bt.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return j.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role.includes("admin")?Object(oe.jsx)("p",{style:{color:"#fa9c23"},children:t.role}):Object(oe.jsx)("p",{style:{color:"#00aaff"},children:t.role}),actions:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(i.b,{to:"/admin/user/".concat(t._id),className:"btn btn-warning text-white mr-1",children:Object(oe.jsx)(Jt.c,{})}),Object(oe.jsx)("button",{className:"btn btn-danger",onClick:function(){return p(t._id)},children:Object(oe.jsx)(Jt.a,{})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},pc=function(e){var t=e.match,c=e.history,r=Object(a.useState)(""),s=Object(j.a)(r,2),n=s[0],i=s[1],l=Object(a.useState)(""),u=Object(j.a)(l,2),p=u[0],O=u[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),v=x[0],g=x[1],y=Object(m.d)(),N=Object(b.b)(),w=Object(b.c)((function(e){return e.userDetails})).user,S=Object(b.c)((function(e){return e.user})),E=S.error,_=S.isUpdated,C=t.params.id;Object(a.useEffect)((function(){var e;w&&w._id!==C?N((e=C,function(){var t=Object(d.a)(o.a.mark((function t(c){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:H}),t.next=4,f.a.get("/api/v1/admin/user/".concat(e));case 4:r=t.sent,a=r.data,c({type:B,payload:a.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:J,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(i(w.name),O(w.email),g(w.role)),E&&(y.error(E),N(le())),_&&(y.success("Users credentials have been updated."),c.push("/admin/users"),N({type:K}))}),[N,y,E,_,c,w,C]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Update user"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,r=new FormData;r.set("name",n),r.set("email",p),r.set("role",v),N((t=w._id,c=r,function(){var e=Object(d.a)(o.a.mark((function e(r){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:z}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.put("/api/v1/admin/user/".concat(t),c,a);case 5:s=e.sent,n=s.data,r({type:Y,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:X,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(oe.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:v,onChange:function(e){return g(e.target.value)},children:[Object(oe.jsx)("option",{value:"user",children:"user"}),Object(oe.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(oe.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]})},Oc=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],s=Object(m.d)(),n=Object(b.b)(),i=Object(b.c)((function(e){return e.productReviews})),l=i.error,u=i.reviews,p=Object(b.c)((function(e){return e.review})),O=p.isDeleted,h=p.error;Object(a.useEffect)((function(){l&&(s.error(l),n(ct())),h&&(s.errror(h),n(ct())),""!==c&&n(tt(c)),O&&(s.success("Review has been removed."),n({type:Ye}))}),[n,s,l,h,O,c]);var x=function(e){n(function(e,t){return function(){var c=Object(d.a)(o.a.mark((function c(r){var a,s;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:Je}),c.next=4,f.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:a=c.sent,s=a.data,r({type:ze,payload:s.success}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),r({type:Ke,payload:c.t0.response.data.errorMessage});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(xe,{title:"Product Reviews"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(nc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("div",{className:"row justify-content-center mt-5",children:Object(oe.jsx)("div",{className:"col-5",children:Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(tt(c))},children:[Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(oe.jsx)("input",{type:"text",id:"email_field",className:"form-control",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(oe.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),u&&u.length>0?Object(oe.jsx)(Bt.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return u.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(oe.jsx)("button",{className:"btn btn-danger",onClick:function(){return x(t._id)},children:Object(oe.jsx)(Jt.a,{})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(oe.jsx)("p",{className:"mt-5 text-center lead",children:"No Reviews. Yet."})]})})]})]})},hc=c(24),xc=function(e){var t=e.isAdmin,c=e.component,a=Object(hc.a)(e,["isAdmin","component"]),s=Object(b.c)((function(e){return e.auth})),n=s.isAuth,i=s.loading,l=s.user;return!1===i&&Object(oe.jsx)(u.b,Object(r.a)(Object(r.a)({},a),{},{render:function(e){return!1===n?Object(oe.jsx)(u.a,{to:"login"}):!0===t&&"admin"!==l.role?Object(oe.jsx)(u.a,{to:"/"}):Object(oe.jsx)(c,Object(r.a)({},e))}}))},fc=c(42),vc=c(95),gc=c(96),yc=Object(fc.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case ve:case Te:return{loading:!0,products:[]};case ge:return{loading:!1,products:a.products,productsCount:a.productsCount,resPerPage:a.resPerPage,filteredProductsCount:a.filteredProductsCount};case Fe:return{loading:!1,products:a};case ye:case Ue:return{loading:!1,error:a};case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case Le:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case Me:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,product:a});case We:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case Ne:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case we:return{loading:!1,success:a.success,product:a.product};case Ee:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case Se:return Object(r.a)(Object(r.a)({},e),{},{success:!1});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case _e:case Pe:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case Ce:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isDeleted:a});case Ae:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isUpdated:a});case De:case ke:return Object(r.a)(Object(r.a)({},e),{},{error:a});case Re:return Object(r.a)(Object(r.a)({},e),{},{isDeleted:!1});case Ie:return Object(r.a)(Object(r.a)({},e),{},{isUpdated:!1});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case $e:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case He:return{loading:!1,reviews:a};case Be:return Object(r.a)(Object(r.a)({},e),{},{error:a});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case qe:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case Qe:return{loading:!1,success:a};case Ge:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case Ve:return Object(r.a)(Object(r.a)({},e),{},{success:!1});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case Je:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case ze:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isDeleted:a});case Ke:return Object(r.a)(Object(r.a)({},e),{},{error:a});case Ye:return Object(r.a)(Object(r.a)({},e),{},{isDeleted:!1});case Xe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case E:case N:case v:return{loading:!0,isAuth:!1};case _:case w:case g:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuth:!0,user:a});case re:return{loading:!1,isAuth:!1,user:null};case C:return{loading:!1,isAuth:!1,user:null,error:a};case ae:return Object(r.a)(Object(r.a)({},e),{},{error:a});case S:case y:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuth:!1,user:null,error:a});case se:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case I:case R:case z:case Z:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case k:case D:case Y:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isUpdated:a});case ee:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isDeleted:a});case T:case P:case K:return Object(r.a)(Object(r.a)({},e),{},{isUpdated:!1});case te:return Object(r.a)(Object(r.a)({},e),{},{isDeleted:!1});case F:case A:case X:case ce:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case se:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case H:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case B:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,user:a});case J:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case se:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case V:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case G:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,users:a});case $:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case se:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case W:case U:return Object(r.a)(Object(r.a)({},e),{},{loading:!0,error:null});case q:return Object(r.a)(Object(r.a)({},e),{},{success:a});case L:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,message:a});case Q:case M:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:a});case se:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case it:var s=a,n=e.cartItems.find((function(e){return e.product===s.product}));return n?Object(r.a)(Object(r.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?s:e}))}):Object(r.a)(Object(r.a)({},e),{},{cartItems:[].concat(Object(oc.a)(e.cartItems),[s])});case lt:return Object(r.a)(Object(r.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==a}))});case ot:return Object(r.a)(Object(r.a)({},e),{},{shippingInfo:a});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case xt:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case ft:return{loading:!1,order:a};case vt:return{loading:!1,error:a};case Lt:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case gt:return{loading:!0};case yt:return{loading:!1,orders:a};case Nt:return{loading:!1,error:a};case Lt:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case wt:return{loading:!0};case St:return{loading:!1,orders:a.orders,totalAmount:a.totalAmount};case Et:return{loading:!1,error:a};case Lt:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case _t:case Pt:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case Ct:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isUpdated:a});case At:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isDeleted:a});case Dt:case kt:return Object(r.a)(Object(r.a)({},e),{},{error:a});case Rt:return Object(r.a)(Object(r.a)({},e),{},{isUpdated:!1});case It:return Object(r.a)(Object(r.a)({},e),{},{isDeleted:!1});case Lt:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case Tt:return{loading:!0};case Ft:return{loading:!1,order:a};case Ut:return{loading:!1,error:a};case Lt:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}}}),Nc={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):[]}},wc=[vc.a],Sc=Object(fc.createStore)(yc,Nc,Object(gc.composeWithDevTools)(fc.applyMiddleware.apply(void 0,wc))),Ec=c(97);var _c=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,r(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Sc.dispatch(ne()),function(){e.apply(this,arguments)}()}),[]);var s=Object(b.c)((function(e){return e.auth})),n=s.user,i=s.isAuth,l=s.loading;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(je,{}),Object(oe.jsxs)("div",{className:"container container-fluid",children:[Object(oe.jsx)(u.b,{exact:!0,path:"/",component:at}),Object(oe.jsx)(u.b,{path:"/search/:keyword",component:at}),Object(oe.jsx)(u.b,{exact:!0,path:"/product/:id",component:ut}),Object(oe.jsx)(u.b,{exact:!0,path:"/cart",component:bt}),Object(oe.jsx)(xc,{path:"/shipping",component:Ot}),Object(oe.jsx)(xc,{path:"/orders/confirm",stripe:c,component:ht}),Object(oe.jsx)(xc,{path:"/success",component:Ht}),c&&Object(oe.jsx)(Vt.Elements,{stripe:Object(Ec.a)(c),children:Object(oe.jsx)(xc,{path:"/payment",component:$t})}),Object(oe.jsx)(u.b,{path:"/login",component:Kt}),Object(oe.jsx)(u.b,{path:"/register",component:Zt}),Object(oe.jsx)(u.b,{exact:!0,path:"/password/forgot",component:rc}),Object(oe.jsx)(u.b,{exact:!0,path:"/password/reset/:token",component:ac}),Object(oe.jsx)(xc,{exact:!0,path:"/me",component:ec}),Object(oe.jsx)(xc,{exact:!0,path:"/me/update",component:tc}),Object(oe.jsx)(xc,{exact:!0,path:"/password/update",component:cc}),Object(oe.jsx)(xc,{exact:!0,path:"/orders/me",component:zt}),Object(oe.jsx)(xc,{exact:!0,path:"/order/:id",component:Yt})]}),Object(oe.jsx)(xc,{exact:!0,path:"/dashboard",isAdmin:!0,component:ic}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/products",isAdmin:!0,component:lc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/product",isAdmin:!0,component:dc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/product/:id",isAdmin:!0,component:jc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/orders",isAdmin:!0,component:uc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/order/:id",isAdmin:!0,component:bc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/users",isAdmin:!0,component:mc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/user/:id",isAdmin:!0,component:pc}),Object(oe.jsx)(xc,{exact:!0,path:"/admin/reviews",isAdmin:!0,component:Oc}),!l&&(!i||"admin"!==n.role)&&Object(oe.jsx)(ue,{})]})},Cc=c(98),Rc={timeout:5e3,position:m.b.BOTTOM_CENTER,transition:m.c.SCALE};n.a.render(Object(oe.jsx)(b.a,{store:Sc,children:Object(oe.jsx)(i.a,{children:Object(oe.jsx)(m.a,Object(r.a)(Object(r.a)({template:Cc.a},Rc),{},{children:Object(oe.jsx)(_c,{})}))})}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.165caa14.chunk.js.map